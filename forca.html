<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>Vamos jogar forca?</h1>
    <div id="exibirTracos"></div>
    <input id="letra_usuario" placeholder="digite uma letra">
    <button id="btt-chutar" onclick="verificarLetra()">Enviar</button>
    <h3>Letras</h3>
    <div id="letras-chutadas"></div>
</body>
<script>
    const palavras = ["javascript", "programacao", "computador","desenvolvimento"];
    let palavraSorteada;
    let tracosPalavra;
    let letrasChutadas;
    let tentativas;
    let erros;
    let acertos;

    function comecarJogo(){
        palavraSorteada = palavras[Math.floor(Math.random() * palavras.length)];
        console.log(palavraSorteada);

        tracosPalavra = Array(palavraSorteada.length).fill('_');
        console.log(tracosPalavra);

        letrasChutadas =[];

        tentativas = 6; 

        erros = 0;

        atualizarPalavra();
    }
    function atualizarPalavra(){
        document.getElementById("exibirTracos").innerText = tracosPalavra;
        document.getElementById("letras-chutadas").innerText =letrasChutadas;
    }
    function verificarLetra(){
        const letraEnviada = document.getElementById('letra_usuario');
        const letra = letraEnviada.value.toLowerCase();
        if(palavraSorteada.includes(letra)){
            for(let i=0; i< palavraSorteada.length; i++){
                if(palavraSorteada[i]===letra){
                    tracosPalavra[i] = letra;
                }
            }
        }else{
            tentativas--;
            erros++;
            letrasChutadas.push(letra)
        }
        if(tentativas===0){
            alert("Você consegue fazer melhor. Tenta mais uma!");
            comecarJogo();
            return;
        }else if(!tracosPalavra.includes('_')){
            alert("Você ganhou!");
            comecarJogo();
        }
        letraEnviada.value = '';
        atualizarPalavra();
    }
    window.load = comecarJogo();
</script>   
</html>